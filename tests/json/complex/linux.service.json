{
  "component": {
    "init": {
      "state": [
        {
          "id": "state-7E596E8A-28CD-4578-8E85-15D020632A00",
          "module": "linux.cmd",
          "_": "1 [prepare] Set run number - True",
          "parameter": {
            "cmd": "if [ ! -f /tmp/run ]; then echo 0 > /tmp/run; else if []; then echo 0 > /tmp/run; fi; RUN=$(cat /tmp/run); RUN=$((RUN+1)); echo $RUN>/tmp/run"
          }
        },
        {
          "id": "state-7B5E6E8A-17CD-4578-8E85-15D020632F1F",
          "module": "linux.file",
          "_": "2 [prepare] set service file - True",
          "parameter": {
            "name": {
              "/etc/init.d/food": '#!/bin/bash\n# Provides: food\n# Required-Start:\n# Should-Start:\n# Required-Stop:\n# Should-Stop:\n# Default-Start:  3 4 5\n# Default-Stop:   0 6\n# Short-Description: Foo Daemon\n# Description: Runs foo\n\nRUN=$(cat /tmp/run)\n\nif [ $RUN -eq 1 ]; then\n    echo -n > /tmp/food\nfi\n\ncase "$1" in\n    start)\n        echo "start ${RUN}" >> /tmp/food\n        ;;\n    stop)\n        echo "stop ${RUN}" >> /tmp/food\n        ;;\n    restart)\n        echo "restart ${RUN}" >> /tmp/food\n        ;;\n    status)\n        echo "status ${RUN}" >> /tmp/food\n        ;;\n\n    *)\n        echo "Usage: $0 {start|stop|restart|status}"\n        exit 1\n        ;;\nesac\n\nexit 0\n'
            }
          }
        },


        {
          "id": "state-7E596E8A-28CD-4578-8E85-15D020632A01",
          "module": "linux.cmd",
          "_": "3 [test1] stop ssh - True",
          "parameter": {
            "cmd": "service sshd stop"
          }
        },
        {
          "id": "state-0D5969B2-5786-46FD-A997-A13DC711CDFE",
          "module": "linux.service",
          "_": "4 [test1] start sshd - True",
          "parameter": {
            "name": "sshd"
          }
        },
        {
          "id": "state-7E596E8A-28CD-4578-8E85-15D020632A02",
          "module": "linux.cmd",
          "_": "5 [test1] check ssh status - True",
          "parameter": {
            "cmd": "service sshd status | grep 'is started'"
          }
        },


        {
          "id": "state-7E596E8A-28CD-4578-8E85-15D020632A03",
          "module": "linux.cmd",
          "_": "6 [test2] check ssh status - True",
          "parameter": {
            "cmd": "echo -n /tmp/food"
          }
        },
        {
          "id": "state-0D5969B2-5786-46FD-A997-A13DC711CD04",
          "module": "linux.service",
          "_": "7 [test2] set food as watched - True",
          "parameter": {
            "watch": true,
            "name": "food"
          }
        },
        {
          "id": "state-7E596E8A-28CD-4578-8E85-15D020632A05",
          "module": "linux.cmd",
          "_": "8 [test2] Set run number - True",
          "parameter": {
            "cmd": "cat /tmp/food | grep restart"
          }
        }
      ]
    }
  }
}
